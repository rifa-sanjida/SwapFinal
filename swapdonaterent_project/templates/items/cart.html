{% extends 'base.html' %}

{% block content %}
<div class="cart-container">
    <h1>Your Shopping Cart</h1>

    {% if cart_items %}
        <div class="cart-items">
            {% for cart_item in cart_items %}
                <div class="cart-item">
                    <img src="{{ cart_item.item.image.url }}" alt="{{ cart_item.item.name }}" class="cart-item-image">

                    <div class="cart-item-details">
                        <h3>{{ cart_item.item.name }}</h3>
                        <p class="item-type">{{ cart_item.item.get_item_type_display }}</p>
                        <p class="item-condition">Condition: {{ cart_item.item.get_condition_display }}</p>
                        <p class="item-price">
                            {% if cart_item.item.price %}
                                Price:{{ cart_item.item.price }}
                            {% else %}
                                Free
                            {% endif %}
                        </p>
                    </div>
                        <div class="cart-item-actions">
                        <a href="{% url 'item_detail' cart_item.item.pk %}" class="btn">View</a>
                        <a href="{% url 'start_conversation' cart_item.item.id %}" class="btn">Contact Seller</a>
                        <a href="{% url 'remove_from_cart' cart_item.item.id %}" class="btn btn-danger">Remove</a>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="cart-summary">
            <div class="summary-actions">
                <a href="{% url 'item_list' %}" class="btn">Continue Shopping</a>

            </div>
        </div>
    {% else %}
        <div class="empty-cart">
            <h3>Your cart is empty</h3>
            <p>Browse our items and add some to your cart!</p>
            <a href="{% url 'item_list' %}" class="btn btn-success">Browse Items</a>
        </div>
    {% endif %}
</div>
{% endblock %}
